{"version":3,"sources":["webpack:///./src/assets/login-bg.png","webpack:///src/views/login.vue","webpack:///./src/api/base.js","webpack:///./src/views/login.vue?292b","webpack:///./src/views/login.vue"],"names":["module","exports","__webpack_require__","p","login","name","data","Bg","login_bg_default","a","checked","form","phone","email","verifyCode","sendCodeWait","watch","form.phone","this","trim","form.email","form.verifyCode","methods","sendCode","params","_this","$toast","fail","Object","tools","account","type","request","post","then","timer","setInterval","clearInterval","success","catch","onSubmit","values","_this2","verify_code","res","cache","stores","$WebSocket","Init","$router","push","path","views_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","_v","label","clearable","clickable","placeholder","maxlength","model","value","callback","$$v","$set","expression","center","scopedSlots","_u","key","fn","size","disabled","_s","on","click","proxy","staticStyle","width","margin-top","round","font-size","display","justify-content","icon-size","shape","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.0d8297661d618e116761.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/login-bg.d5d498a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/login-bg.png\n// module id = QPNa\n// module chunks = 3","<template>\n    <div class=\"loginApp\">\n        <img class=\"bgImage\" :src=\"Bg\"/>\n        <div class=\"form-box\">\n            <h3>尬聊啊！兄嘚！</h3>\n            <van-form>\n                <!--                <van-field v-model=\"form.phone\"-->\n                <!--                           type=\"number\"-->\n                <!--                           label=\"手机号\"-->\n                <!--                           :clearable=\"true\"-->\n                <!--                           :clickable=\"true\"-->\n                <!--                           placeholder=\"请输入手机号\"-->\n                <!--                           :maxlength=\"11\"/>-->\n                <van-field v-model=\"form.email\"\n                           label=\"邮箱\"\n                           :clearable=\"true\"\n                           :clickable=\"true\"\n                           placeholder=\"请输入邮箱\"\n                           :maxlength=\"50\"/>\n                <van-field v-model=\"form.verifyCode\"\n                           type=\"number\"\n                           :clearable=\"true\"\n                           :clickable=\"true\"\n                           :maxlength=\"6\"\n                           center\n                           clearable\n                           label=\"验证码\"\n                           placeholder=\"请输入验证码\">\n                    <template #button>\n                        <van-button size=\"small\" type=\"info\" disabled v-if=\"sendCodeWait > 0\">{{ sendCodeWait }} 秒后重新发送</van-button>\n                        <van-button size=\"small\" type=\"info\" @click=\"sendCode\" v-else>发送验证码</van-button>\n                    </template>\n                </van-field>\n                <van-button round\n                            type=\"info\"\n                            style=\"width: 80%;margin-top: 20px\"\n                            @click=\"onSubmit\">登录\n                </van-button>\n                <van-checkbox v-model=\"checked\"\n                              icon-size=\"14px\"\n                              shape=\"square\"\n                              style=\"margin-top: 20px;font-size: 12px;display: flex;justify-content: center;\">已阅读并同意使用协议\n                </van-checkbox>\n            </van-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Bg from \"@/assets/login-bg.png\"\nimport {isEmail} from \"../utis/tools\";\nimport {loginRegisterReq, sendCodeReq} from \"../api/base\";\nimport {LoginAfterCache} from \"../utis/cache\";\nimport {LoginAfterStore} from \"../stores\";\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            Bg,\n            checked: true,\n            form: {\n                phone: \"\",\n                email: \"\",\n                verifyCode: \"\",\n            },\n            sendCodeWait: 0,\n        }\n    },\n    watch: {\n        'form.phone'() {\n            this.form.phone = this.form.phone.trim()\n        },\n        'form.email'() {\n            this.form.email = this.form.email.trim()\n        },\n        'form.verifyCode'() {\n            this.form.verifyCode = this.form.verifyCode.trim()\n        },\n    },\n    methods: {\n        sendCode() {\n            if (this.form.email === \"\") {\n                return this.$toast.fail(\"请输入邮箱\")\n            }\n            if (!isEmail(this.form.email)) {\n                return this.$toast.fail(\"邮箱格式不正确\")\n            }\n            this.sendCodeWait = 60\n            sendCodeReq({\n                account: this.form.email,\n                type: 1,\n            }).then(() => {\n                let timer = setInterval(() => {\n                    this.sendCodeWait -= 1\n                    if (this.sendCodeWait < 1) {\n                        clearInterval(timer)\n                    }\n                }, 1000)\n                return this.$toast.success(\"发送完成\")\n            }).catch(() => {\n                this.sendCodeWait = 0\n            })\n        },\n        onSubmit(values) {\n            // if (this.form.phone === \"\") {\n            //     return this.$toast.fail(\"请输入手机号\")\n            // }\n            // if (this.form.phone.length !== 11) {\n            //     return this.$toast.fail(\"手机号码格式不正确\")\n            // }\n            if (this.form.email === \"\") {\n                return this.$toast.fail(\"请输入邮箱\")\n            }\n            if (!isEmail(this.form.email)) {\n                return this.$toast.fail(\"邮箱格式不正确\")\n            }\n            if (this.form.verifyCode === \"\") {\n                return this.$toast.fail(\"请输入验证码\")\n            }\n            loginRegisterReq({\n                account: this.form.email,\n                verify_code: this.form.verifyCode\n            }).then(res => {\n                LoginAfterCache(res.data)\n                LoginAfterStore(res.data)\n                this.$WebSocket.Init()\n                this.$router.push({\n                    path: '/index'\n                })\n            })\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"less\">\n.loginApp {\n    .bgImage {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .form-box {\n        text-align: center;\n        opacity: 0.9;\n        width: 90%;\n        height: 280px;\n        border-radius: 16px;\n        padding: 5px;\n        position: absolute;\n        background: #FFFFFF;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        margin: auto;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","import request from \"./request\";\n\nexport const sendCodeReq = (params) => {\n    return request.post(\"/sendCode\",params)\n}\n\nexport const loginRegisterReq = (params) => {\n    return request.post(\"/loginReg\",params)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/base.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginApp\"},[_c('img',{staticClass:\"bgImage\",attrs:{\"src\":_vm.Bg}}),_vm._v(\" \"),_c('div',{staticClass:\"form-box\"},[_c('h3',[_vm._v(\"尬聊啊！兄嘚！\")]),_vm._v(\" \"),_c('van-form',[_c('van-field',{attrs:{\"label\":\"邮箱\",\"clearable\":true,\"clickable\":true,\"placeholder\":\"请输入邮箱\",\"maxlength\":50},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"number\",\"clearable\":true,\"clickable\":true,\"maxlength\":6,\"center\":\"\",\"clearable\":\"\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [(_vm.sendCodeWait > 0)?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.sendCodeWait)+\" 秒后重新发送\")]):_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.sendCode}},[_vm._v(\"发送验证码\")])]},proxy:true}]),model:{value:(_vm.form.verifyCode),callback:function ($$v) {_vm.$set(_vm.form, \"verifyCode\", $$v)},expression:\"form.verifyCode\"}}),_vm._v(\" \"),_c('van-button',{staticStyle:{\"width\":\"80%\",\"margin-top\":\"20px\"},attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"登录\\n            \")]),_vm._v(\" \"),_c('van-checkbox',{staticStyle:{\"margin-top\":\"20px\",\"font-size\":\"12px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"icon-size\":\"14px\",\"shape\":\"square\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"已阅读并同意使用协议\\n            \")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1888fb9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1888fb9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1888fb9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1888fb9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}